<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tutorial &mdash; PyPEEC</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/icon.png"/>
    <link rel="canonical" href="https://pypeec.otvam.ch/content/tutorial.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Examples" href="examples.html" />
    <link rel="prev" title="About" href="about.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #137e9c" >

          
          
          <a href="../index.html">
            
              <img src="../_static/sphinx.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                4.13.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">General Doc</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html">About</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installing-the-code">Installing the Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#extracting-the-data">Extracting the Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#solving-a-problem">Solving a Problem</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="gallery.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Workflow</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Technical Doc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="technical.html">Technical Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="implementation.html">Implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="warnings.html">Known Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="format.html">File Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/api.html">API Doc</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #137e9c" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PyPEEC</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Tutorial</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="tutorial">
<h1>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this heading"></a></h1>
<section id="installing-the-code">
<h2>Installing the Code<a class="headerlink" href="#installing-the-code" title="Permalink to this heading"></a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Installation of PyPEEC with pip</span>
<span class="c1">#    - The Python executable can be &quot;python&quot; or &quot;python3&quot;</span>
<span class="c1">#    - Alternatively, Conda can be used for the environment</span>

<span class="c1"># Create a Python Virtual Environment</span>
python<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>venv

<span class="c1"># Activate the Python Virtual Environment</span>
<span class="nb">source</span><span class="w"> </span>venv/bin/activate

<span class="c1"># Install PyPEEC from PyPi</span>
python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>pypeec
</pre></div>
</div>
</section>
<section id="extracting-the-data">
<h2>Extracting the Data<a class="headerlink" href="#extracting-the-data" title="Permalink to this heading"></a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Check the PyPEEC version</span>
pypeec<span class="w"> </span>--version

<span class="c1"># Extract the PyPEEC examples</span>
pypeec<span class="w"> </span>examples<span class="w"> </span>examples

<span class="c1"># Extract the PyPEEC documentation</span>
pypeec<span class="w"> </span>documentation<span class="w"> </span>documentation
</pre></div>
</div>
</section>
<section id="solving-a-problem">
<h2>Solving a Problem<a class="headerlink" href="#solving-a-problem" title="Permalink to this heading"></a></h2>
<p>This tutorial demonstrates how PyPEEC can be used to simulate a four-layer PCB coil.
The coil has two terminals and the simulation is done in the frequency domain.
All the command are executed inside the virtual environment in the <code class="docutils literal notranslate"><span class="pre">examples</span></code> folder.</p>
<section id="mesher-meshing-of-the-geometry">
<h3>Mesher: Meshing of the Geometry<a class="headerlink" href="#mesher-meshing-of-the-geometry" title="Permalink to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run the mesher</span>
<span class="c1">#   - geometry.yaml - contains the geometry description (input)</span>
<span class="c1">#   - voxel.gz - contains the meshed voxel structure (output)</span>
pypeec<span class="w"> </span>mesher<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--geometry<span class="w"> </span>tutorial/geometry.yaml<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--voxel<span class="w"> </span>tutorial/voxel.gz
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>00:00:00.00 : MAIN     : INFO     : load the input data
00:00:00.02 : MAIN     : INFO     : load the mesher
00:00:01.89 : MAIN     : INFO     : run the mesher
00:00:01.89 : MESHER   : INFO     : check the input data
00:00:01.89 : MESHER   : INFO     : mesher_shape : enter : timing
00:00:01.89 : SHAPE    : DEBUG    :     parse the layers
00:00:01.89 : SHAPE    : DEBUG    :     create the shapes
00:00:01.90 : SHAPE    : DEBUG    :     get the voxel size
00:00:01.90 : SHAPE    : DEBUG    :     voxelize the shapes
00:00:01.99 : SHAPE    : DEBUG    :     trace: n_voxel = 19728
00:00:01.99 : SHAPE    : DEBUG    :     via: n_voxel = 1195
00:00:01.99 : SHAPE    : DEBUG    :     src: n_voxel = 361
00:00:01.99 : SHAPE    : DEBUG    :     sink: n_voxel = 361
00:00:01.99 : SHAPE    : DEBUG    :     merge the shapes
00:00:02.04 : MESHER   : INFO     : mesher_shape : exit : 00:00:00.14
00:00:02.04 : MESHER   : INFO     : voxel_conflict : enter : timing
00:00:02.04 : MESHER   : INFO     : voxel_conflict : exit : 00:00:00.00
00:00:02.04 : MESHER   : INFO     : voxel_resample : enter : timing
00:00:02.04 : SAMPLE   : DEBUG    :     original number = 331056
00:00:02.04 : SAMPLE   : DEBUG    :     use_reduce = False
00:00:02.04 : SAMPLE   : DEBUG    :     use_resample = False
00:00:02.04 : SAMPLE   : DEBUG    :     final number = 331056
00:00:02.04 : MESHER   : INFO     : voxel_resample : exit : 00:00:00.00
00:00:02.04 : MESHER   : INFO     : voxel_connection : enter : timing
00:00:02.18 : MESHER   : INFO     : voxel_connection : exit : 00:00:00.14
00:00:02.19 : MESHER   : INFO     : voxel_summary : enter : timing
00:00:02.19 : SUMMARY  : DEBUG    :     voxel size
00:00:02.19 : SUMMARY  : DEBUG    :         n = (132, 132, 19)
00:00:02.19 : SUMMARY  : DEBUG    :         d = (3.50e-05, 3.50e-05, 3.50e-05)
00:00:02.19 : SUMMARY  : DEBUG    :         s = (4.63e-03, 4.63e-03, 6.65e-04)
00:00:02.19 : SUMMARY  : DEBUG    :         c = (1.94e-03, 1.94e-03, 0.00e+00)
00:00:02.19 : SUMMARY  : DEBUG    :         A = (2.14e-05, 3.08e-06, 3.08e-06)
00:00:02.19 : SUMMARY  : DEBUG    :     voxel summary
00:00:02.19 : SUMMARY  : DEBUG    :         V_total = 1.42e-08
00:00:02.19 : SUMMARY  : DEBUG    :         V_used = 9.12e-10
00:00:02.19 : SUMMARY  : DEBUG    :         n_total = 331056
00:00:02.19 : SUMMARY  : DEBUG    :         n_used = 21215
00:00:02.19 : SUMMARY  : DEBUG    :         ratio = 6.41e-02
00:00:02.19 : SUMMARY  : DEBUG    :         n_domain = 4
00:00:02.19 : SUMMARY  : DEBUG    :         n_graph = 1
00:00:02.19 : SUMMARY  : DEBUG    :     voxel domain
00:00:02.19 : SUMMARY  : DEBUG    :         trace = 19298
00:00:02.19 : SUMMARY  : DEBUG    :         via = 1195
00:00:02.19 : SUMMARY  : DEBUG    :         src = 361
00:00:02.19 : SUMMARY  : DEBUG    :         sink = 361
00:00:02.19 : MESHER   : INFO     : voxel_summary : exit : 00:00:00.00
00:00:02.19 : MESHER   : INFO     : duration: 00:00:00.29
00:00:02.19 : MESHER   : INFO     : successful termination
00:00:02.19 : MAIN     : INFO     : save the results
</pre></div>
</div>
</section>
<section id="viewer-plot-the-geometry">
<h3>Viewer: Plot the Geometry<a class="headerlink" href="#viewer-plot-the-geometry" title="Permalink to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run the viewer</span>
<span class="c1">#   - voxel.gz - contains the meshed voxel structure (input)</span>
<span class="c1">#   - viewer.yaml - contains the plot configuration (input)</span>
<span class="c1">#   - tag_plot - list of plots to be shown (defined in viewer.yaml)</span>
pypeec<span class="w"> </span>viewer<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--voxel<span class="w"> </span>tutorial/voxel.gz<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--viewer<span class="w"> </span>config/viewer.yaml<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--tag_plot<span class="w"> </span>domain<span class="w"> </span>connection
</pre></div>
</div>
<figure class="align-default" id="id1">
<img alt="../_images/viewer_domain.png" src="../_images/viewer_domain.png" />
<figcaption>
<p><span class="caption-text">Plot showing which the different domains.</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id2">
<img alt="../_images/viewer_connection.png" src="../_images/viewer_connection.png" />
<figcaption>
<p><span class="caption-text">Plot showing which domains are interconnected.</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="solver-solve-the-problem">
<h3>Solver: Solve the Problem<a class="headerlink" href="#solver-solve-the-problem" title="Permalink to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run the solver</span>
<span class="c1">#   - voxel.gz - contains the meshed voxel structure (input)</span>
<span class="c1">#   - problem.yaml - contains the magnetic problem description (input)</span>
<span class="c1">#   - tolerance.yaml - contains the solver numerical tolerances (input)</span>
<span class="c1">#   - solution.gz - contains the problem solution (output)</span>
pypeec<span class="w"> </span>solver<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--voxel<span class="w"> </span>tutorial/voxel.gz<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--problem<span class="w"> </span>tutorial/problem.yaml<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--tolerance<span class="w"> </span>config/tolerance.yaml<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--solution<span class="w"> </span>tutorial/solution.gz
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>00:00:00.00 : MAIN     : INFO     : load the input data
00:00:00.68 : MAIN     : INFO     : load the solver
00:00:00.91 : MAIN     : INFO     : run the solver
00:00:00.91 : SOLVER   : INFO     : check the voxel data
00:00:00.91 : SOLVER   : INFO     : check the input data
00:00:00.92 : SOLVER   : INFO     : combine the input data
00:00:00.92 : SOLVER   : INFO     : init : enter : timing
00:00:00.95 : SOLVER   : INFO     :     voxel_geometry : enter : timing
00:00:01.16 : SOLVER   : INFO     :     voxel_geometry : exit : 00:00:00.21
00:00:01.16 : SOLVER   : INFO     :     system_tensor : enter : timing
00:00:01.16 : GREEN    : DEBUG    :         analytical solution: 6D / 1
00:00:01.20 : GREEN    : DEBUG    :         analytical solution: 6D / 4624
00:00:01.39 : GREEN    : DEBUG    :         numerical approximation: 6D / 326432
00:00:01.42 : SOLVER   : INFO     :     system_tensor : exit : 00:00:00.25
00:00:01.42 : SOLVER   : INFO     :     problem_geometry : enter : timing
00:00:01.48 : PROBLEM  : DEBUG    :         n_voxel_total = 331056
00:00:01.48 : PROBLEM  : DEBUG    :         n_voxel_used = 21215
00:00:01.48 : PROBLEM  : DEBUG    :         n_face_total = 993168
00:00:01.48 : PROBLEM  : DEBUG    :         n_face_used = 42062
00:00:01.48 : PROBLEM  : DEBUG    :         n_voxel_electric = 21215
00:00:01.48 : PROBLEM  : DEBUG    :         n_voxel_magnetic = 0
00:00:01.48 : PROBLEM  : DEBUG    :         n_face_electric = 42062
00:00:01.48 : PROBLEM  : DEBUG    :         n_face_magnetic = 0
00:00:01.48 : PROBLEM  : DEBUG    :         n_src_current = 0
00:00:01.48 : PROBLEM  : DEBUG    :         n_src_voltage = 722
00:00:01.48 : PROBLEM  : DEBUG    :         ratio_voxel = 6.41e-02
00:00:01.48 : PROBLEM  : DEBUG    :         ratio_face = 4.24e-02
00:00:01.48 : SOLVER   : INFO     :     problem_geometry : exit : 00:00:00.06
00:00:01.48 : SOLVER   : INFO     :     system_matrix : enter : timing
00:00:01.49 : FFT      : DEBUG    :         multiplication: inductance
00:00:01.49 : FFT      : DEBUG    :             tensor size: (132, 132, 19)
00:00:01.49 : FFT      : DEBUG    :             tensor footprint: 40.41 MB
00:00:01.58 : SOLVER   : INFO     :     system_matrix : exit : 00:00:00.09
00:00:01.58 : SOLVER   : INFO     : init : exit : 00:00:00.65
00:00:01.58 : SOLVER   : INFO     : run sweep: sim_dc : enter : timing
00:00:01.58 : SOLVER   : INFO     :     problem_value : enter : timing
00:00:01.62 : SOLVER   : INFO     :     problem_value : exit : 00:00:00.03
00:00:01.62 : SOLVER   : INFO     :     equation_system : enter : timing
00:00:01.65 : FACTOR   : DEBUG    :         factorization: electric
00:00:01.65 : FACTOR   : DEBUG    :             matrix size: (21937, 21937)
00:00:01.65 : FACTOR   : DEBUG    :             matrix elements: 107505
00:00:01.65 : FACTOR   : DEBUG    :             matrix density: 2.23e-04
00:00:01.65 : FACTOR   : DEBUG    :             compute factorization
00:00:01.91 : FACTOR   : DEBUG    :             factorization success
00:00:01.91 : FACTOR   : DEBUG    :         factorization: magnetic
00:00:01.91 : SOLVER   : INFO     :     equation_system : exit : 00:00:00.28
00:00:01.91 : SOLVER   : INFO     :     equation_solver : enter : timing
00:00:01.91 : COND     : DEBUG    :         condition: electric
00:00:01.91 : COND     : DEBUG    :             matrix size: (21937, 21937)
00:00:01.91 : COND     : DEBUG    :             matrix elements: 107505
00:00:01.91 : COND     : DEBUG    :             matrix density: 2.23e-04
00:00:01.91 : COND     : DEBUG    :             compute LU decomposition
00:00:02.07 : COND     : DEBUG    :             estimate norm of the inverse
00:00:02.20 : COND     : DEBUG    :             estimate norm of the matrix
00:00:02.24 : COND     : DEBUG    :             compute condition estimate
00:00:02.24 : COND     : DEBUG    :         condition: magnetic
00:00:02.24 : EQUATION : DEBUG    :         condition summary
00:00:02.24 : EQUATION : DEBUG    :             check = True
00:00:02.24 : EQUATION : DEBUG    :             status = True
00:00:02.24 : EQUATION : DEBUG    :             cond_electric = 3.25e+06
00:00:02.24 : EQUATION : DEBUG    :             cond_magnetic = 0.00e+00
00:00:02.24 : EQUATION : DEBUG    :             matrix condition is good
00:00:02.24 : EQUATION : DEBUG    :         solver run
00:00:02.25 : EQUATION : DEBUG    :             init / 0.00e+00+0.00e+00j VA
00:00:02.30 : EQUATION : DEBUG    :             i = 1 / 0.00e+00+0.00e+00j VA
00:00:02.35 : EQUATION : DEBUG    :             i = 2 / 7.91e+01+0.00e+00j VA
00:00:02.36 : EQUATION : DEBUG    :             final / 7.91e+01+0.00e+00j VA
00:00:02.36 : EQUATION : DEBUG    :         solver summary
00:00:02.36 : EQUATION : DEBUG    :             check = True
00:00:02.36 : EQUATION : DEBUG    :             status = True
00:00:02.36 : EQUATION : DEBUG    :             n_dof_total = 63999
00:00:02.36 : EQUATION : DEBUG    :             n_dof_electric = 63999
00:00:02.36 : EQUATION : DEBUG    :             n_dof_magnetic = 0
00:00:02.36 : EQUATION : DEBUG    :             n_iter = 2
00:00:02.36 : EQUATION : DEBUG    :             n_sys_eval = 3
00:00:02.36 : EQUATION : DEBUG    :             n_pcd_eval = 3
00:00:02.36 : EQUATION : DEBUG    :             res_rms = 3.32e-13
00:00:02.36 : EQUATION : DEBUG    :             convergence achieved
00:00:02.36 : SOLVER   : INFO     :     equation_solver : exit : 00:00:00.45
00:00:02.36 : SOLVER   : INFO     :     extract_solution : enter : timing
00:00:02.76 : SOLUTION : DEBUG    :         domain: trace_via
00:00:02.76 : SOLUTION : DEBUG    :             P_electric = 7.84e+01 W
00:00:02.76 : SOLUTION : DEBUG    :             P_magnetic = 0.00e+00 W
00:00:02.76 : SOLUTION : DEBUG    :             P_tot = 7.84e+01 W
00:00:02.76 : SOLUTION : DEBUG    :         domain: src_sink
00:00:02.76 : SOLUTION : DEBUG    :             P_electric = 6.78e-01 W
00:00:02.76 : SOLUTION : DEBUG    :             P_magnetic = 0.00e+00 W
00:00:02.76 : SOLUTION : DEBUG    :             P_tot = 6.78e-01 W
00:00:02.76 : SOLUTION : DEBUG    :         terminal: src
00:00:02.76 : SOLUTION : DEBUG    :             type = voltage / lumped
00:00:02.76 : SOLUTION : DEBUG    :             V_src = +1.00e+00 + +0.00e+00j V
00:00:02.76 : SOLUTION : DEBUG    :             V_drop = +4.13e-02 + +0.00e+00j V
00:00:02.76 : SOLUTION : DEBUG    :             V = +9.59e-01 + +0.00e+00j V
00:00:02.76 : SOLUTION : DEBUG    :             I = +4.13e+01 + +0.00e+00j A
00:00:02.76 : SOLUTION : DEBUG    :             S = +3.96e+01 + +0.00e+00j VA
00:00:02.76 : SOLUTION : DEBUG    :         terminal: sink
00:00:02.76 : SOLUTION : DEBUG    :             type = voltage / lumped
00:00:02.76 : SOLUTION : DEBUG    :             V_src = -1.00e+00 + +0.00e+00j V
00:00:02.76 : SOLUTION : DEBUG    :             V_drop = -4.13e-02 + +0.00e+00j V
00:00:02.76 : SOLUTION : DEBUG    :             V = -9.59e-01 + +0.00e+00j V
00:00:02.76 : SOLUTION : DEBUG    :             I = -4.13e+01 + +0.00e+00j A
00:00:02.76 : SOLUTION : DEBUG    :             S = +3.96e+01 + +0.00e+00j VA
00:00:02.76 : SOLUTION : DEBUG    :         integral
00:00:02.76 : SOLUTION : DEBUG    :             S_tot_real = 7.91e+01 VA
00:00:02.76 : SOLUTION : DEBUG    :             S_tot_imag = 0.00e+00j VA
00:00:02.76 : SOLUTION : DEBUG    :             P_electric = 7.91e+01 W
00:00:02.76 : SOLUTION : DEBUG    :             P_magnetic = 0.00e+00 W
00:00:02.76 : SOLUTION : DEBUG    :             W_electric = 4.97e-05 J
00:00:02.76 : SOLUTION : DEBUG    :             W_magnetic = 0.00e+00 J
00:00:02.76 : SOLUTION : DEBUG    :             P_tot = 7.91e+01 W
00:00:02.76 : SOLUTION : DEBUG    :             W_tot = 4.97e-05 J
00:00:02.76 : SOLVER   : INFO     :     extract_solution : exit : 00:00:00.39
00:00:02.76 : SOLVER   : INFO     : run sweep: sim_dc : exit : 00:00:01.18
00:00:02.76 : SOLVER   : INFO     : run sweep: sim_ac : enter : timing
00:00:02.76 : SOLVER   : INFO     :     problem_value : enter : timing
00:00:02.78 : SOLVER   : INFO     :     problem_value : exit : 00:00:00.01
00:00:02.78 : SOLVER   : INFO     :     equation_system : enter : timing
00:00:02.79 : FACTOR   : DEBUG    :         factorization: electric
00:00:02.79 : FACTOR   : DEBUG    :             matrix size: (21937, 21937)
00:00:02.79 : FACTOR   : DEBUG    :             matrix elements: 107505
00:00:02.79 : FACTOR   : DEBUG    :             matrix density: 2.23e-04
00:00:02.79 : FACTOR   : DEBUG    :             compute factorization
00:00:02.91 : FACTOR   : DEBUG    :             factorization success
00:00:02.91 : FACTOR   : DEBUG    :         factorization: magnetic
00:00:02.91 : SOLVER   : INFO     :     equation_system : exit : 00:00:00.13
00:00:02.92 : SOLVER   : INFO     :     equation_solver : enter : timing
00:00:02.92 : COND     : DEBUG    :         condition: electric
00:00:02.92 : COND     : DEBUG    :             matrix size: (21937, 21937)
00:00:02.92 : COND     : DEBUG    :             matrix elements: 107505
00:00:02.92 : COND     : DEBUG    :             matrix density: 2.23e-04
00:00:02.92 : COND     : DEBUG    :             compute LU decomposition
00:00:03.12 : COND     : DEBUG    :             estimate norm of the inverse
00:00:03.24 : COND     : DEBUG    :             estimate norm of the matrix
00:00:03.27 : COND     : DEBUG    :             compute condition estimate
00:00:03.27 : COND     : DEBUG    :         condition: magnetic
00:00:03.27 : EQUATION : DEBUG    :         condition summary
00:00:03.27 : EQUATION : DEBUG    :             check = True
00:00:03.27 : EQUATION : DEBUG    :             status = True
00:00:03.27 : EQUATION : DEBUG    :             cond_electric = 3.25e+06
00:00:03.27 : EQUATION : DEBUG    :             cond_magnetic = 0.00e+00
00:00:03.27 : EQUATION : DEBUG    :             matrix condition is good
00:00:03.27 : EQUATION : DEBUG    :         solver run
00:00:03.28 : EQUATION : DEBUG    :             init / 0.00e+00+0.00e+00j VA
00:00:03.31 : EQUATION : DEBUG    :             i = 1 / 0.00e+00+0.00e+00j VA
00:00:08.65 : EQUATION : DEBUG    :             i = 2 / 8.13e-01+5.40e+00j VA
00:00:09.06 : EQUATION : DEBUG    :             final / 8.13e-01+5.40e+00j VA
00:00:09.06 : EQUATION : DEBUG    :         solver summary
00:00:09.06 : EQUATION : DEBUG    :             check = True
00:00:09.06 : EQUATION : DEBUG    :             status = True
00:00:09.06 : EQUATION : DEBUG    :             n_dof_total = 63999
00:00:09.06 : EQUATION : DEBUG    :             n_dof_electric = 63999
00:00:09.06 : EQUATION : DEBUG    :             n_dof_magnetic = 0
00:00:09.06 : EQUATION : DEBUG    :             n_iter = 2
00:00:09.06 : EQUATION : DEBUG    :             n_sys_eval = 13
00:00:09.06 : EQUATION : DEBUG    :             n_pcd_eval = 13
00:00:09.06 : EQUATION : DEBUG    :             res_rms = 1.57e-09
00:00:09.06 : EQUATION : DEBUG    :             convergence achieved
00:00:09.06 : SOLVER   : INFO     :     equation_solver : exit : 00:00:06.14
00:00:09.06 : SOLVER   : INFO     :     extract_solution : enter : timing
00:00:09.43 : SOLUTION : DEBUG    :         domain: trace_via
00:00:09.43 : SOLUTION : DEBUG    :             P_electric = 8.05e-01 W
00:00:09.43 : SOLUTION : DEBUG    :             P_magnetic = 0.00e+00 W
00:00:09.43 : SOLUTION : DEBUG    :             P_tot = 8.05e-01 W
00:00:09.43 : SOLUTION : DEBUG    :         domain: src_sink
00:00:09.43 : SOLUTION : DEBUG    :             P_electric = 7.84e-03 W
00:00:09.43 : SOLUTION : DEBUG    :             P_magnetic = 0.00e+00 W
00:00:09.43 : SOLUTION : DEBUG    :             P_tot = 7.84e-03 W
00:00:09.43 : SOLUTION : DEBUG    :         terminal: src
00:00:09.43 : SOLUTION : DEBUG    :             type = voltage / lumped
00:00:09.43 : SOLUTION : DEBUG    :             V_src = +1.00e+00 + +0.00e+00j V
00:00:09.43 : SOLUTION : DEBUG    :             V_drop = +8.74e-04 + -5.40e-03j V
00:00:09.43 : SOLUTION : DEBUG    :             V = +9.99e-01 + +5.40e-03j V
00:00:09.43 : SOLUTION : DEBUG    :             I = +8.74e-01 + -5.40e+00j A
00:00:09.43 : SOLUTION : DEBUG    :             S = +4.06e-01 + +2.70e+00j VA
00:00:09.43 : SOLUTION : DEBUG    :         terminal: sink
00:00:09.43 : SOLUTION : DEBUG    :             type = voltage / lumped
00:00:09.43 : SOLUTION : DEBUG    :             V_src = -1.00e+00 + +0.00e+00j V
00:00:09.43 : SOLUTION : DEBUG    :             V_drop = -8.74e-04 + +5.40e-03j V
00:00:09.43 : SOLUTION : DEBUG    :             V = -9.99e-01 + -5.40e-03j V
00:00:09.43 : SOLUTION : DEBUG    :             I = -8.74e-01 + +5.40e+00j A
00:00:09.43 : SOLUTION : DEBUG    :             S = +4.06e-01 + +2.70e+00j VA
00:00:09.43 : SOLUTION : DEBUG    :         integral
00:00:09.43 : SOLUTION : DEBUG    :             S_tot_real = 8.13e-01 VA
00:00:09.43 : SOLUTION : DEBUG    :             S_tot_imag = 5.40e+00j VA
00:00:09.43 : SOLUTION : DEBUG    :             P_electric = 8.13e-01 W
00:00:09.43 : SOLUTION : DEBUG    :             P_magnetic = 0.00e+00 W
00:00:09.43 : SOLUTION : DEBUG    :             W_electric = 4.30e-07 J
00:00:09.43 : SOLUTION : DEBUG    :             W_magnetic = 0.00e+00 J
00:00:09.43 : SOLUTION : DEBUG    :             P_tot = 8.13e-01 W
00:00:09.43 : SOLUTION : DEBUG    :             W_tot = 4.30e-07 J
00:00:09.43 : SOLVER   : INFO     :     extract_solution : exit : 00:00:00.37
00:00:09.43 : SOLVER   : INFO     : run sweep: sim_ac : exit : 00:00:06.66
00:00:09.43 : SOLVER   : INFO     : duration: 00:00:08.51
00:00:09.43 : SOLVER   : INFO     : successful termination
00:00:09.43 : MAIN     : INFO     : save the results
</pre></div>
</div>
</section>
<section id="plotter-plot-the-solution">
<h3>Plotter: Plot the Solution<a class="headerlink" href="#plotter-plot-the-solution" title="Permalink to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run the plotter</span>
<span class="c1">#   - solution.gz - contains the problem solution (input)</span>
<span class="c1">#   - plotter.yaml - contains the plot configuration (input)</span>
<span class="c1">#   - tag_plot - list of plots to be shown (defined in plotter.yaml)</span>
pypeec<span class="w"> </span>plotter<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--solution<span class="w"> </span>tutorial/solution.gz<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--plotter<span class="w"> </span>config/plotter.yaml<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--tag_plot<span class="w"> </span>V_c_abs<span class="w"> </span>J_c_norm<span class="w"> </span>H_norm<span class="w"> </span>residuum
</pre></div>
</div>
<figure class="align-default" id="id3">
<img alt="../_images/plotter_V_c_abs.png" src="../_images/plotter_V_c_abs.png" />
<figcaption>
<p><span class="caption-text">Plot showing the electric potential.</span><a class="headerlink" href="#id3" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id4">
<img alt="../_images/plotter_J_c_norm.png" src="../_images/plotter_J_c_norm.png" />
<figcaption>
<p><span class="caption-text">Plot showing the current density.</span><a class="headerlink" href="#id4" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id5">
<img alt="../_images/plotter_H_norm.png" src="../_images/plotter_H_norm.png" />
<figcaption>
<p><span class="caption-text">Plot showing the generated magnetic field.</span><a class="headerlink" href="#id5" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id6">
<img alt="../_images/plotter_residuum.png" src="../_images/plotter_residuum.png" />
<figcaption>
<p><span class="caption-text">Plot showing the equation system residuum.</span><a class="headerlink" href="#id6" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Thomas Guillod - Dartmouth College.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>